(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9c3929b2"],{"08f1":function(t,e,a){"use strict";var s=a("8bb0"),i=a.n(s);i.a},2414:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"storeDetail"},[t.loading?a("div",{staticClass:"loading-box tc"},[a("mt-spinner",{staticClass:"loading-more",attrs:{type:"snake"}}),a("span",{staticClass:"loading-more-txt"},[t._v("加载中...")]),t.showMap?a("coordinate",{attrs:{show:t.loading},on:{"update:show":function(e){t.loading=e},method:t.getStoreDetail}}):t._e()],1):a("div",[a("div",{staticClass:"storeImg"},[a("img",{attrs:{src:t.storeInfo.ShopImages[0].ImagePath,alt:""}})]),a("div",{staticClass:"storeInfo"},[a("p",{staticClass:"title"},[t._v(t._s(t.storeInfo.ShopName))]),a("div",{staticClass:"landscape"},[a("p",[a("span",{staticClass:"label"},[t._v("总评分")]),a("start",{attrs:{size:"normal",score:t.storeInfo.TotalScore}})],1),a("p",[a("span",{staticClass:"label"},[t._v("总订单")]),a("span",[t._v(t._s(t.storeInfo.TotalCount))])])]),a("div",{staticClass:"businessHours"},[a("p",{staticClass:"label"},[t._v("营业时间")]),a("p",{staticClass:"time"},[t._v(t._s(t.storeInfo.BusinessHours))]),a("p",[t._v("(节假日营业时间,请咨询店家)")])]),a("div",{staticClass:"contact"},[a("p",[a("span",{staticClass:"label"},[t._v("商家电话")]),a("span",[t._v(t._s(t.storeInfo.Tel))])]),a("a",{attrs:{href:t.telephone}},[t._v("\n          拨打\n        ")])]),a("div",{staticClass:"navigation"},[a("p",{on:{click:function(e){t.goStoreMap(t.storeInfo.Longitude,t.storeInfo.Latitude)}}},[t._v("导航")]),a("p",[a("span",[t._v("距离")]),a("span",[t._v(t._s(t._f("storeDistance")(t.storeInfo.Distance))+"m")])])])]),a("div",{staticClass:"storeService"},[a("p",{staticClass:"title"},[t._v("\n        服务产品\n      ")]),t.showProduct.length>0?a("ul",t._l(t.showProduct,function(e,s){return a("li",{key:s},[a("div",{staticClass:"serviceWrap",on:{click:function(a){return t.selectService(e,s)}}},[a("i",{class:[s===t.isActive?"active":"normail"]}),a("p",{staticClass:"serviceName"},[t._v(t._s(e.ProductName))]),a("p",{staticClass:"serviceDesc"},[a("span",[t._v("评分")]),a("span",[t._v(t._s(e.TotalScore))]),a("span",[t._v("|")]),a("span",[t._v("已售")]),a("span",[t._v(t._s(e.TotalCount))])])]),a("div",{staticClass:"priceWrap",on:{click:function(a){return t.goCommodity(e.Pid)}}},[a("p",{staticClass:"servicePrice"},[a("span",[t._v("￥")]),a("span",[t._v(t._s(e.SellPrice))])]),a("p",{staticClass:"originalPrice"},[a("span",[t._v("￥")]),a("span",[t._v(t._s(e.MarketPrice))])])])])}),0):a("p",{staticClass:"noProduct"},[t._v("暂无产品")])]),a("div",{staticClass:"evaluation"},[a("div",{staticClass:"title"},[t._m(0),a("p",{on:{click:t.goMoreEvaluation}},[t._v("\n          查看更多\n        ")])]),a("evaluation",{attrs:{evaluationList:t.evaluationList}})],1),a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showPay,expression:"showPay"}],staticClass:"payment"},[a("div",{staticClass:"price"},[a("p",[a("span",[t._v("￥")]),a("span",{staticClass:"large"},[t._v(" "+t._s(t.activeService.SellPrice))])]),a("p",[t._v("￥"+t._s(t.activeService.MarketPrice))])]),a("div",{staticClass:"pay",on:{click:t.payMoney}},[t._v("立即支付")])])])],1)])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",[t._v("门店评价")])])}],o=(a("ac6a"),a("cebc")),n=a("9870"),c=a("3b41"),r=a("b9b8"),l=a("4ec3"),u=a("5f87"),d=a("aa2b"),v=a("5880"),p={name:"storeDetail",data:function(){return{showMap:!1,loading:!0,isActive:"",activeService:{},storeInfo:{},evaluationList:[],totalEvaluations:120}},components:{start:n["a"],evaluation:c["a"],coordinate:r["a"]},computed:Object(o["a"])({},Object(v["mapGetters"])(["coordinate"]),{telephone:function(){return"tel:"+this.storeInfo.Tel},showProduct:function(){var t=[];return this.storeInfo.ShopKinds.length>0&&this.storeInfo.ShopKinds.forEach(function(e,a){e.ShopProducts.length>0&&(t=t.concat(e.ShopProducts))}),t},showPay:function(){return 0===this.isActive||!!this.isActive}}),created:function(){0===this.coordinate.longitude.length?this.showMap=!0:this.getStoreDetail(),this.getReviews()},filters:{storeDistance:function(t){var e="";return e=t<1e3?t+"m":(t/1e3).toFixed(2)+"km",e}},updated:function(){},mounted:function(){},methods:{selectService:function(t,e){this.isActive=e,this.activeService=t},payMoney:function(){var t={productsid:this.activeService.Pid,customerPid:Object(u["a"])()};Object(l["i"])(t).then(function(t){1e4===t.Head.ErrorCode?t.Body&&Object(u["b"])(t.Body):d["MessageBox"].alert(t.Head.Msg,"提示")})},goCommodity:function(t){var e=[this.$route.query.storeId,t];this.$router.push({name:"commodityDetail",query:{commodityInfo:e}})},goStoreMap:function(t,e){var a=[t,e];this.$router.push({name:"storeMap",query:{location:a}})},goMoreEvaluation:function(){this.$router.push({name:"storeEvaluation",query:{storeId:this.$route.query.storeId,commodityId:""}})},getStoreDetail:function(){var t=this,e={storeId:this.$route.query.storeId,longitude:this.coordinate.longitude,latitude:this.coordinate.latitude};Object(l["h"])(e).then(function(e){1e4===e.Head.ErrorCode?(t.loading=!1,t.storeInfo=e.Body):d["MessageBox"].alert(e.Head.Msg,"提示")})},getReviews:function(){var t=this,e={storeId:this.$route.query.storeId,page:0,limit:2,commodityId:null,reviewType:0};Object(l["g"])(e).then(function(e){1e4===e.Head.ErrorCode?e.Body?t.evaluationList=e.Body:t.evaluationList=[]:d["MessageBox"].alert(e.Head.Msg,"提示")})}}},m=p,h=(a("e2a3"),a("2877")),g=Object(h["a"])(m,s,i,!1,null,"6c4f34b9",null);e["default"]=g.exports},"3b41":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"evaluation"},[t.evaluationList.length>0?a("ul",t._l(t.evaluationList,function(e,s){return a("li",{key:s},[a("div",{staticClass:"info"},[a("div",{staticClass:"user"},[a("img",{staticClass:"avatar",attrs:{src:e.avatar?e.avatar:t.userImg,alt:""}}),a("div",{staticClass:"phone"},[a("p",[t._v(t._s(e.CustomerName))]),a("start",{attrs:{size:"small",score:e.Star}})],1)]),a("p",[t._v("\n          "+t._s(e.AddDate)+"\n        ")])]),a("p",{staticClass:"desc"},[t._v("\n        "+t._s(e.CommentRemark)+"\n      ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.Images,expression:"item.Images"}],staticClass:"showPic"},t._l(e.Images,function(t,e){return a("div",{key:e,staticClass:"showPicItme"},[a("img",{directives:[{name:"gallery",rawName:"v-gallery:groupName",arg:"groupName"}],attrs:{src:t.ImagePath}})])}),0),a("p",{staticClass:"title"},[t._v("\n        "+t._s(e.title)+"\n      ")])])}),0):a("p",{staticClass:"noEvaluation"},[t._v("暂无评价")])])},i=[],o=a("9870"),n=a("c121"),c=a.n(n),r={name:"evaluation",props:{evaluationList:{type:Array,required:!0}},data:function(){return{userImg:c.a}},components:{start:o["a"]},computed:{},created:function(){},updated:function(){},mounted:function(){},methods:{}},l=r,u=(a("08f1"),a("2877")),d=Object(u["a"])(l,s,i,!1,null,"622ba533",null);e["a"]=d.exports},"641b":function(t,e,a){},"8bb0":function(t,e,a){},b9b8:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"amap-wrapper"},[a("el-amap",{staticClass:"amap",attrs:{vid:"amap",plugin:t.plugin}})],1)])},i=[],o=a("cebc"),n=a("5880"),c={name:"coordinate",props:{show:{type:Boolean}},data:function(){return{}},components:{},computed:Object(o["a"])({},Object(n["mapGetters"])(["coordinate"]),{plugin:function(){var t=this;return[{pName:"Geolocation",events:{init:function(e){e.getCurrentPosition(function(e,a){if(a&&a.position){var s={longitude:a.position.lng,latitude:a.position.lat};t.changeCoordinate(s)}else{var i={longitude:30.65742,latitude:104.06584};t.changeCoordinate(i)}})}}}]}}),created:function(){},updated:function(){},mounted:function(){},methods:Object(o["a"])({},Object(n["mapActions"])({setCoordinate:"SETCoordinate"}),{changeCoordinate:function(t){this.setCoordinate(t),this.$emit("method"),this.$emit("update:show",!0)}})},r=c,l=a("2877"),u=Object(l["a"])(r,s,i,!1,null,"00735b25",null);e["a"]=u.exports},c121:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAmCAYAAABH/4KQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjExREU5N0QzNEFCRjExRTlCNDk2RjZFRDMyQUVFNEI0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjExREU5N0Q0NEFCRjExRTlCNDk2RjZFRDMyQUVFNEI0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTFERTk3RDE0QUJGMTFFOUI0OTZGNkVEMzJBRUU0QjQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MTFERTk3RDI0QUJGMTFFOUI0OTZGNkVEMzJBRUU0QjQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6KAWxcAAAEI0lEQVR42rSYV2gVQRSGby5i76ioEST23oOSqBHRWGPBGitiQxDjg41YHxQRBMECdlBRSTRYsCuiEhUVUbHFhh0L6kOMxNjwH/xXhvHMzt5kPfBx787uzJ6dOfPPmYn72KdDpBgWB1JAMmgF6oMaoAwoAp/Ac3AfXALnwLdYX1IqxudbgGlgEEhwPNtZ+/8aHAHbwdWgL4sGfK4O2ArugowAjpkWD6aDK2AfaBmWc5PAAzA5Eo4NB3fAvJIO60Z+scs+c+i+gPLs6aqOOqtAJzCyOM4dAEN87t8A+8FZ8JCTwLMqoCHoBobxV7IRHOok8POfWWeZrdmsKJlqbBk4EcNQqpcvBP0t93OlD5BiboWPYwtAlxgdi1BOBoCplvtdwTZXzyXzKyRLBadDmBCdqXtlhXsqjA7Zei7b0mBKSI55YdHFcm+XPg9052aAukIFJboXIuHaLTBKKK/E0PlnWN+DmsbD50GPyP+zY6CfUVbApbDI67k0wbFIQOFVsjEFnAT3QA5It8SUaZKGVqT8/B3WccJDO8ETR+OzwFOwhaJ7kT29h3UnOuq/5LJoWro3rCrOboPqwvR/BEoLlX9wvezJ65Ug0wiH7vx/HHywCP53inWyMLStlXNDuBqUxNSSVahdqzA5XMI2R6thbRZCYDc1rluF0WbUIh+x2l4OTT0wHiwJoc3aKg4qh9BQM6p+Xki9pqxC1LK+qtnSGkygahc5GtpOB4cyET0e4OWHKCXtvdlpLq1R5mKmvWFCuIsONgbrfF40h9LxGDzTVd4SAi25jm4GN8EL4blC5dw74UZ7QY+UpvUFX4XnqwbME5XujaFY69ZGePZ9lF/rcs4ztQokUud0a25cN7AkDzst7UrOPYpyN2T2Rm+fYVHDPdAoa2hcmwqQ5kgeegnifM3ruQvCbqunT2MnmZTaekp3bjW3hTZry5g2M+P73kzNEiotdsy2RVogm1vF2vx9C+Y62pkvlGXpC3+WsCPvoa2PNsu0rBDxPi/WLUGQkR9MHP46p7Z0ayzT3s92c9ekNK6cVt5Oy2z8TMq813vypgvwcgaiGTuupCDHU3StrEYAIfb2rbqpD10qpekFTBqlTce2AM5too6t5fUOh2jPsySf+X771oNgsFDxIF+eb5Q34XGFaY0syaoKn9lC+VFToqKWnrpjKVfKPtoofyosgfnCkpRCTZUcy+PJVaCDnGRLb8RzklzkAU9Nxulz47kXLK/C2XiEWUui0OYTngj8CnpWor68IzjFitLxQhJn+WVQy7hfS1vqqjn2sKlCqDiPwL6wB9f65VxceiTnUh2ObeDmOr8k53MZXGsDn0g67DroA2aGdbJ5hmcc6dxZFcfU+j2W2nYqSIW4Yh5YN+VOvSvTpXpGuq9m76vInwPrXApyXqwv+S3AABS54ff+xNN/AAAAAElFTkSuQmCC"},e2a3:function(t,e,a){"use strict";var s=a("641b"),i=a.n(s);i.a}}]);